<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script><script src="https://unpkg.com/deck.gl@^8.1.0/dist.min.js"></script><style type="text/css">#map{height:100%}body,html{height:100%;margin:0;padding:0}#tooltip{background-color:#fff;border:0;border-radius:2px;box-shadow:0 1px 4px -1px rgba(0,0,0,.3);margin:10px;padding:0 .5em;font:400 18px Roboto,Arial,sans-serif;overflow:hidden;position:absolute;height:auto;padding:.5em}</style><script>(()=>{"use strict";var o={d:(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},e={};let i,l;o.r(e),o.d(e,{initMap:()=>function(){const a=51.4709959,o=-.4531566,e=document.getElementById("map");i=new google.maps.Map(e,{zoom:2,center:new google.maps.LatLng(a,o),heading:0,tilt:0,mapId:"b1beacae401d047c"});const n=document.getElementById("tooltip"),s={click:null,dblclick:null,mousemove:null,mouseout:null};class t extends google.maps.WebglOverlayView{canvas;deck;layers_;props;constructor(e,t,a={}){super(),this.deck=null,this.layers_=t,this.props=a,this.canvas=e}set layers(e){this.layers_=e,this.deck.setProps({layers:[this.layers_]})}onAdd(){}onRemove(){}onContextRestored(e){const t=this.getMap();this.deck=new deck.Deck({canvas:this.canvas,initialViewState:{longitude:o,latitude:a,pitch:0,zoom:2},gl:e,layers:this.layers_,props:this.props,controller:!1,userData:{map:t}});for(const a in s)s[a]=t.addListener(a,e=>this.handleMouseEvent(this.deck,a,e))}onDraw(e,t){const a=this.deck;var o,n,s,r,i,l;a&&a.layerManager&&(l=t.getCameraParams(),o=this.canvas.clientWidth,n=this.canvas.clientHeight,s=Math.max(0,l.zoom-1),r=l.tilt,i=l.heading,t=l.lat,l=l.lng,this.canvas.style.left="0px",this.canvas.style.top="0px",a.setProps({width:o,height:n,viewState:{latitude:t,longitude:l,zoom:s,pitch:r,bearing:i,nearZMultiplier:.01,farZMultiplier:1.01,repeat:!0}}),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.enable(e.DEPTH_TEST),e.disable(e.CULL_FACE),e.depthFunc(e.LEQUAL),e.depthMask(!0),this.requestRedraw(),a._drawLayers("google-map-repaint",{clearCanvas:!1}))}onContextLost(){}getEventPixel(e,t){e=t.getViewports()[0].project([e.latLng.lng(),e.latLng.lat()]);return{x:e[0],y:e[1]}}handleMouseEvent(e,t,a){const o={type:t,offsetCenter:this.getEventPixel(a,e),srcEvent:a};switch(t){case"click":e._lastPointerDownInfo=e.pickObject(o.offsetCenter),o.tapCount=1,e._onEvent(o);break;case"dblclick":o.type="click",o.tapCount=2,e._onEvent(o);break;case"mousemove":o.type="pointermove",e._onPointerMove(o);break;case"mouseout":o.type="pointerleave",e._onPointerMove(o);break;default:return}this.requestRedraw()}}var r=[new deck.GeoJsonLayer({id:"airports",data:c,filled:!0,pointRadiusMinPixels:2,opacity:1,pointRadiusScale:2e3,getRadius:e=>11-e.properties.scalerank,getFillColor:[200,0,80,180],pickable:!0,autoHighlight:!0,onHover:function({x:e,y:t,object:a}){a?(n.style.display="block",n.style.left=`${e+5}px`,n.style.top=`${t+5}px`,n.innerHTML=`${a.properties.name} - ${a.properties.abbrev}`):n.style.display="none"}}),new deck.ArcLayer({id:"arcs",data:c,dataTransform:e=>e.features.filter(e=>e.properties.scalerank<4),getSourcePosition:e=>[o,a],getTargetPosition:e=>e.geometry.coordinates,getSourceColor:[0,128,200],getTargetColor:[200,0,80],getWidth:1})];l=new t(e,r,{}),l.setMap(i)}});const c="https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_10m_airports.geojson";var t,a=window;for(t in e)a[t]=e[t];e.__esModule&&Object.defineProperty(a,"__esModule",{value:!0})})()</script><div id="iframe-contents"><div id="map"></div><div id="tooltip"></div><script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB41DRUbKWJHPxaFjMAwdrzWzbVKartNGg&callback=initMap&v=beta&channel=1"async></script></div>