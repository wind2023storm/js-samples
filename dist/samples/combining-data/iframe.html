<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script><style type="text/css">#map,body,html{height:100%;margin:0;padding:0;overflow:hidden}.nicebox{position:absolute;text-align:center;font-family:Roboto,Arial,sans-serif;font-size:13px;z-index:5;box-shadow:0 4px 6px -4px #333;padding:5px 10px;background:#fff;background:linear-gradient(to bottom,#fff 0,#f5f5f5 100%);border:#e5e5e5 1px solid}#controls{top:10px;left:110px;width:360px;height:45px}#data-box{top:10px;left:500px;height:45px;line-height:45px;display:none}#census-variable{width:360px;height:20px}#legend{display:flex;display:-webkit-box;padding-top:7px}.color-key{background:linear-gradient(to right,#db4639 0,#db7f29 17%,#d1bf1f 33%,#92c51b 50%,#48ba17 67%,#12ab24 83%,#0f9f59 100%);flex:1;-webkit-box-flex:1;margin:0 5px;text-align:left;font-size:1em;line-height:1em}#data-value{font-size:2em;font-weight:700}#data-label{font-size:2em;font-weight:400;padding-right:10px}#data-label:after{content:":"}#data-caret{margin-left:-5px;display:none;font-size:14px;width:14px}</style><script>(()=>{"use strict";var a={d:(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},e={};a.r(e),a.d(e,{initMap:()=>function(){n=new google.maps.Map(document.getElementById("map"),{center:{lat:40,lng:-100},zoom:4,styles:t}),n.data.setStyle(o),n.data.addListener("mouseover",r),n.data.addListener("mouseout",s);const e=document.getElementById("census-variable");google.maps.event.addDomListener(e,"change",()=>{d=Number.MAX_VALUE,i=-Number.MAX_VALUE,n.data.forEach(e=>{e.setProperty("census_variable",void 0)}),document.getElementById("data-box").style.display="none",document.getElementById("data-caret").style.display="none",function(e){const t=new XMLHttpRequest;t.open("GET",e+".json"),t.onload=function(){const e=JSON.parse(t.responseText);e.shift(),e.forEach(e=>{var t=parseFloat(e[0]),e=e[1];t<d&&(d=t),t>i&&(i=t);const o=n.data.getFeatureById(e);o&&o.setProperty("census_variable",t)}),document.getElementById("census-min").textContent=d.toLocaleString(),document.getElementById("census-max").textContent=i.toLocaleString()},t.send()}(e.options[e.selectedIndex].value)}),n.data.loadGeoJson("https://storage.googleapis.com/mapsdevsite/json/states.js",{idPropertyName:"STATE"}),google.maps.event.addListenerOnce(n.data,"addfeature",()=>{google.maps.event.trigger(document.getElementById("census-variable"),"change")})}});const t=[{stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"geometry",stylers:[{visibility:"on"},{color:"#fcfcfc"}]},{featureType:"water",elementType:"geometry",stylers:[{visibility:"on"},{color:"#bfd4ff"}]}];let n,d=Number.MAX_VALUE,i=-Number.MAX_VALUE;function o(e){const t=[5,69,54],o=[151,83,34],a=(e.getProperty("census_variable")-d)/(i-d),n=[];for(let e=0;e<3;e++)n.push((o[e]-t[e])*a+t[e]);let r=!0;null!=e.getProperty("census_variable")&&!isNaN(e.getProperty("census_variable"))||(r=!1);let s=.5,l=1;return"hover"===e.getProperty("state")&&(s=l=2),{strokeWeight:s,strokeColor:"#fff",zIndex:l,fillColor:"hsl("+n[0]+","+n[1]+"%,"+n[2]+"%)",fillOpacity:.75,visible:r}}function r(e){e.feature.setProperty("state","hover");var t=(e.feature.getProperty("census_variable")-d)/(i-d)*100;document.getElementById("data-label").textContent=e.feature.getProperty("NAME"),document.getElementById("data-value").textContent=e.feature.getProperty("census_variable").toLocaleString(),document.getElementById("data-box").style.display="block",document.getElementById("data-caret").style.display="block",document.getElementById("data-caret").style.paddingLeft=t+"%"}function s(e){e.feature.setProperty("state","normal")}var l,c=window;for(l in e)c[l]=e[l];e.__esModule&&Object.defineProperty(c,"__esModule",{value:!0})})()</script><div id="iframe-contents"><div id="controls"class="nicebox"><div><select id="census-variable"><option value="https://storage.googleapis.com/mapsdevsite/json/DP02_0066PE">Percent of population over 25 that completed high school<option value="https://storage.googleapis.com/mapsdevsite/json/DP05_0017E">Median age<option value="https://storage.googleapis.com/mapsdevsite/json/DP05_0001E">Total population<option value="https://storage.googleapis.com/mapsdevsite/json/DP02_0016E">Average family size<option value="https://storage.googleapis.com/mapsdevsite/json/DP03_0088E">Per-capita income</select></div><div id="legend"><div id="census-min">min</div><div class="color-key"><span id="data-caret">&#x25c6;</span></div><div id="census-max">max</div></div></div><div id="data-box"class="nicebox"><label id="data-label"for="data-value"></label> <span id="data-value"></span></div><div id="map"></div><script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB41DRUbKWJHPxaFjMAwdrzWzbVKartNGg&callback=initMap&v=weekly&channel=1"async></script></div>